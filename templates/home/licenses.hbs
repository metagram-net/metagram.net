{% extends "layouts/base.html" %}

{% block main %}
<h1>All licenses</h1>

<p>This page lists the licenses for Metagram and its dependencies.</p>

<h2>Overview of licenses</h2>
<ul class="licenses-overview">
  {{#each overview}}
  <li class="list-bulleted">
    <a href="#{{id}}">{{name}}</a> ({{count}})
  </li>
  {{/each}}
</ul>

<h2>All license texts</h2>
<ul class="licenses-list">
  {{#each licenses}}
  <li class="license">
    <h3 id="{{id}}">{{name}}</h3>

    <h4>Used by:</h4>
    <ul class="license-used-by list-bulleted my-2">
      {{#each used_by}}
      <li>
        <a
          href="{{#if crate.repository}} {{crate.repository}} {{else}} https://crates.io/crates/{{crate.name}} {{/if}}"
        >
          {{crate.name}} v{{crate.version}}
        </a>
      </li>
      {{/each}}
    </ul>

    <pre class="license-text max-h-96 max-w-fit overflow-auto whitespace-pre p-2 border border-gray-500 dark:border-gray-700">
      {{text}}
    </pre>
  </li>
  {{/each}}
</ul>
{% endblock %}
